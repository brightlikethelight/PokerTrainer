/* ============================================
   PokerTable - Modern Gaming Interface
   ============================================ */

.poker-table-container {
  width: 100%;
  height: 100%;
  min-height: calc(100vh - 60px);
  background: radial-gradient(
    ellipse at center,
    var(--color-bg-secondary) 0%,
    var(--color-bg-primary) 100%
  );
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
}

/* Ambient background effect */
.poker-table-container::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background:
    radial-gradient(circle at 30% 20%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.06) 0%, transparent 50%);
  pointer-events: none;
  animation: ambientShift 20s ease-in-out infinite;
}

@keyframes ambientShift {
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
  50% {
    transform: translate(2%, 2%) rotate(5deg);
  }
}

/* Modern Poker Table */
.poker-table {
  width: 90%;
  max-width: 1100px;
  height: 550px;
  background: linear-gradient(145deg, var(--color-poker-felt) 0%, var(--color-poker-table) 100%);
  border-radius: 280px;
  position: relative;
  box-shadow:
    inset 0 0 60px rgba(0, 0, 0, 0.4),
    0 0 0 12px var(--color-poker-rail),
    0 0 0 16px rgba(255, 255, 255, 0.05),
    var(--shadow-xl);
}

/* Table felt texture overlay */
.poker-table::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
}

.table-rail {
  position: absolute;
  inset: -16px;
  border-radius: 296px;
  border: 2px solid rgba(255, 255, 255, 0.08);
  pointer-events: none;
}

/* Community Cards */
.community-cards {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  gap: var(--space-3);
  padding: var(--space-4);
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(4px);
}

/* Pot Display */
.pot-display {
  position: absolute;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--color-bg-elevated);
  color: var(--color-poker-gold);
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-full);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-bold);
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--color-border);
  backdrop-filter: blur(8px);
}

/* Game Info Panel */
.game-info {
  position: fixed;
  top: 80px;
  left: var(--space-4);
  background: var(--color-bg-secondary);
  color: var(--color-text-primary);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  min-width: 180px;
  z-index: var(--z-dropdown);
  border: 1px solid var(--color-border);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-lg);
}

.game-info h3 {
  margin: 0 0 var(--space-3) 0;
  color: var(--color-text-accent);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.game-info-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2) 0;
  font-size: var(--font-size-sm);
  border-bottom: 1px solid var(--color-border);
}

.game-info-item:last-child {
  border-bottom: none;
}

.game-info-item span:first-child {
  color: var(--color-text-muted);
}

.game-info-item span:last-child {
  color: var(--color-text-primary);
  font-weight: var(--font-weight-medium);
}

/* Player Seats Container */
.player-seats {
  position: absolute;
  inset: 0;
}

/* Dealer Button */
.dealer-button {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
  border: 2px solid var(--color-poker-rail);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-sm);
  color: var(--color-poker-rail);
  z-index: 10;
  box-shadow: var(--shadow-md);
  transition: transform var(--transition-slow);
}

/* Phase Indicator */
.phase-indicator {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);
  background: var(--color-bg-elevated);
  color: var(--color-accent-primary);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid var(--color-border);
  backdrop-filter: blur(8px);
}

/* Winners Display */
.winners-display {
  position: absolute;
  top: 60%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--color-bg-secondary);
  padding: var(--space-6);
  border-radius: var(--radius-xl);
  text-align: center;
  border: 1px solid var(--color-poker-gold);
  box-shadow: 0 0 30px rgba(251, 191, 36, 0.2);
  z-index: var(--z-modal);
  backdrop-filter: blur(12px);
  animation: winnerAppear 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes winnerAppear {
  from {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

.winners-display h2 {
  color: var(--color-poker-gold);
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  margin-bottom: var(--space-4);
}

.winner-item {
  margin: var(--space-3) 0;
  font-size: var(--font-size-lg);
  color: var(--color-text-primary);
}

.winner-hand {
  font-size: var(--font-size-base);
  color: var(--color-text-secondary);
  margin-top: var(--space-2);
}

/* Error Banner */
.error-banner {
  position: fixed;
  top: 80px;
  left: 50%;
  transform: translateX(-50%);
  z-index: var(--z-modal);
  background: var(--color-accent-danger);
  color: white;
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-lg);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  max-width: 80%;
  text-align: center;
  box-shadow: var(--shadow-lg);
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

/* Loading State */
.loading {
  color: var(--color-text-secondary);
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-medium);
  text-align: center;
}

/* Game Status Panel */
.game-status-panel {
  position: fixed;
  bottom: var(--space-6);
  left: var(--space-6);
  background: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  padding: var(--space-4) var(--space-5);
  min-width: 220px;
  z-index: var(--z-dropdown);
  backdrop-filter: blur(12px);
  box-shadow: var(--shadow-lg);
}

.game-status-panel p {
  margin: 0;
  color: var(--color-text-primary);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  text-align: center;
}

/* Waiting Status */
.status-waiting {
  text-align: center;
}

.status-waiting p {
  color: var(--color-poker-gold);
  margin-bottom: var(--space-4);
}

.new-hand-button {
  background: linear-gradient(135deg, var(--color-accent-success) 0%, #059669 100%);
  color: white;
  border: none;
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-lg);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-base);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.new-hand-button:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow-success);
}

.new-hand-button:active {
  transform: translateY(0);
}

/* AI Thinking Status */
.status-ai-thinking {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-3);
}

.status-ai-thinking p {
  color: var(--color-text-secondary);
}

.thinking-indicator {
  display: flex;
  gap: var(--space-2);
}

.thinking-indicator .dot {
  width: 8px;
  height: 8px;
  background: var(--color-accent-primary);
  border-radius: var(--radius-full);
  animation: thinking-bounce 1.4s ease-in-out infinite both;
}

.thinking-indicator .dot:nth-child(1) {
  animation-delay: -0.32s;
}

.thinking-indicator .dot:nth-child(2) {
  animation-delay: -0.16s;
}

@keyframes thinking-bounce {
  0%,
  80%,
  100% {
    transform: scale(0.5);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Other Player's Turn */
.status-other-turn p {
  color: var(--color-text-muted);
}

/* Your Turn - Highlighted */
.status-your-turn {
  background: rgba(16, 185, 129, 0.1);
  border: 1px solid var(--color-accent-success);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  margin: calc(-1 * var(--space-2));
  animation: pulse-glow 2s ease-in-out infinite;
}

.status-your-turn p {
  color: var(--color-accent-success);
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-lg);
}

@keyframes pulse-glow {
  0%,
  100% {
    box-shadow: 0 0 5px rgba(16, 185, 129, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
  }
}

/* Responsive Adjustments */
@media (max-width: 1024px) {
  .poker-table {
    width: 95%;
    height: 480px;
    border-radius: 240px;
  }

  .game-info {
    top: 70px;
    min-width: 160px;
    padding: var(--space-3);
  }
}

@media (max-width: 768px) {
  .poker-table {
    width: 98%;
    height: 400px;
    border-radius: 200px;
  }

  .pot-display {
    font-size: var(--font-size-base);
    padding: var(--space-2) var(--space-4);
  }

  .game-status-panel {
    left: var(--space-3);
    bottom: var(--space-3);
    min-width: 180px;
  }
}
