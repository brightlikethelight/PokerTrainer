"use strict";(self.webpackChunkpoker_trainer=self.webpackChunkpoker_trainer||[]).push([[859],{193(t,e,s){s.d(e,{A:()=>h});var r=s(43),n=s(555),a=s(833);const i="poker_trainer_hand_history",o=1e3;const c=new class{constructor(){this.cache=null}async initialize(){try{const t=localStorage.getItem(i);this.cache=t?JSON.parse(t):{hands:[],sessions:[]},a.Ay.info("Hand history storage initialized",{handCount:this.cache.hands.length,sessionCount:this.cache.sessions.length})}catch(t){a.Ay.error("Failed to initialize hand history storage",t),this.cache={hands:[],sessions:[]}}}async saveHand(t){try{this.cache||await this.initialize();const e=(0,n.A)((0,n.A)({},t),{},{timestamp:t.timestamp||Date.now(),id:t.id||"hand_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))});return this.cache.hands.unshift(e),this.cache.hands.length>o&&(this.cache.hands=this.cache.hands.slice(0,o)),this._persist(),e.id}catch(e){throw a.Ay.error("Failed to save hand",e),e}}async getAllHands(){return this.cache||await this.initialize(),[...this.cache.hands]}async getHandsByDateRange(t,e){this.cache||await this.initialize();const s=new Date(t).getTime(),r=new Date(e).getTime();return this.cache.hands.filter(t=>{const e=t.timestamp||0;return e>=s&&e<=r})}async getHandsByPlayer(t){return this.cache||await this.initialize(),this.cache.hands.filter(e=>e.players&&e.players.some(e=>e.id===t))}async saveSession(t){try{this.cache||await this.initialize();const e=(0,n.A)((0,n.A)({},t),{},{id:t.id||"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),startTime:t.startTime||Date.now(),endTime:t.endTime||Date.now()});return this.cache.sessions.unshift(e),this.cache.sessions.length>100&&(this.cache.sessions=this.cache.sessions.slice(0,100)),this._persist(),e.id}catch(e){throw a.Ay.error("Failed to save session",e),e}}async getAllSessions(){return this.cache||await this.initialize(),[...this.cache.sessions]}async getStatistics(){this.cache||await this.initialize();const t=this.cache.hands,e=this.cache.sessions;return{totalHands:t.length,totalSessions:e.length,handsWon:t.filter(t=>t.result&&t.result.won).length,totalWinnings:t.reduce((t,e)=>{var s;return t+((null===(s=e.result)||void 0===s?void 0:s.profit)||0)},0),averageProfit:t.length>0?t.reduce((t,e)=>{var s;return t+((null===(s=e.result)||void 0===s?void 0:s.profit)||0)},0)/t.length:0,lastPlayed:t.length>0?new Date(t[0].timestamp):null}}async clear(){this.cache={hands:[],sessions:[]},localStorage.removeItem(i),a.Ay.info("Hand history storage cleared")}_persist(){try{localStorage.setItem(i,JSON.stringify(this.cache))}catch(t){if("QuotaExceededError"===t.name){a.Ay.warn("localStorage quota exceeded, removing oldest hands"),this.cache.hands=this.cache.hands.slice(0,Math.floor(800)),this.cache.sessions=this.cache.sessions.slice(0,80);try{localStorage.setItem(i,JSON.stringify(this.cache))}catch(e){a.Ay.error("Failed to persist after cleanup",e)}}else a.Ay.error("Failed to persist hand history",t)}}};class l{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.storage=t||c,this.currentSession=null,this.currentHand=null,this.isCapturing=!1}async startSession(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const e=(0,n.A)({gameType:"texas-holdem",buyIn:1e4,blindStructure:{small:50,big:100},maxPlayers:6},t),s=await this.storage.saveSession(e);return this.currentSession=s,this.isCapturing=!0,a.Ay.info(a.nh.SYSTEM,"Session started",{sessionId:s,sessionInfo:e}),s}catch(e){throw a.Ay.error(a.nh.SYSTEM,"Failed to start session",{error:e.message,stack:e.stack}),e}}async endSession(){if(!this.currentSession)return null;try{const t=await this.getSessionStats();if(!t)throw new Error("Failed to retrieve session statistics");const e=this.currentSession;return this.currentSession=null,this.isCapturing=!1,a.Ay.info(a.nh.SYSTEM,"Session ended",{sessionId:e,stats:t}),t}catch(t){if(a.Ay.error(a.nh.SYSTEM,"Failed to end session",{error:t.message,stack:t.stack}),t.message.includes("Update failed"))throw t;throw new Error("Update failed")}}startHandCapture(t){if(this.isCapturing&&this.currentSession)try{this.currentHand={sessionId:this.currentSession,gameType:"texas-holdem",handNumber:t.handNumber||Date.now(),heroPosition:this.findHeroPosition(t),heroCards:this.getHeroCards(t),playerCount:t.players.filter(t=>t.isActive).length,preflopActions:[],flopActions:[],turnActions:[],riverActions:[],flopCards:[],turnCard:null,riverCard:null,initialPot:t.pot||0,potProgression:[t.pot||0],blinds:{small:t.smallBlind||50,big:t.bigBlind||100},playersStartState:t.players.map(t=>({id:t.id,name:t.name,position:t.position,chips:t.chips,isAI:t.isAI,aiType:t.aiType})),startTime:Date.now(),phase:"preflop",isComplete:!1},a.Ay.info(a.nh.GAME,"Hand capture started",{handNumber:this.currentHand.handNumber,heroPosition:this.currentHand.heroPosition,playerCount:this.currentHand.playerCount})}catch(e){a.Ay.error(a.nh.GAME,"Failed to start hand capture",{error:e.message,stack:e.stack})}}captureAction(t,e,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.currentHand&&this.isCapturing)try{const n={playerId:e,action:s,amount:r,timestamp:Date.now(),potBefore:t.pot,playerChipsBefore:this.getPlayerChips(t,e),position:this.getPlayerPosition(t,e)},i=t.phase||"preflop",o="".concat(i,"Actions");this.currentHand[o]&&this.currentHand[o].push(n),this.currentHand.potProgression.push(t.pot),a.Ay.info(a.nh.GAME,"Action captured",{playerId:e,action:s,amount:r,phase:i,potSize:t.pot})}catch(n){a.Ay.error(a.nh.GAME,"Failed to capture action",{error:n.message,stack:n.stack})}}captureStreetChange(t,e,s){if(this.currentHand&&this.isCapturing)try{switch(this.currentHand.phase=e,e){case"flop":this.currentHand.flopCards=s.slice(0,3).map(t=>({rank:t.rank,suit:t.suit}));break;case"turn":this.currentHand.turnCard=s[3]?{rank:s[3].rank,suit:s[3].suit}:null;break;case"river":this.currentHand.riverCard=s[4]?{rank:s[4].rank,suit:s[4].suit}:null}a.Ay.info(a.nh.GAME,"Street change captured",{newPhase:e,communityCards:s.length,handNumber:this.currentHand.handNumber})}catch(r){a.Ay.error(a.nh.GAME,"Failed to capture street change",{error:r.message,stack:r.stack})}}async completeHand(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.currentHand&&this.isCapturing)try{var r;const n=this.getHeroId(t),i=e.some(t=>t.playerId===n),o=i&&(null===(r=e.find(t=>t.playerId===n))||void 0===r?void 0:r.amount)||0;this.currentHand.isComplete=!0,this.currentHand.endTime=Date.now(),this.currentHand.handDuration=this.currentHand.endTime-this.currentHand.startTime,this.currentHand.finalPot=t.pot,this.currentHand.potSize=t.pot,this.currentHand.handResult=i?"won":"lost",this.currentHand.heroWinAmount=o,this.currentHand.amountLost=i?0:this.calculateHeroInvestment(),this.currentHand.showdown=s,this.currentHand.winners=e.map(e=>({playerId:e.playerId,playerName:this.getPlayerName(t,e.playerId),amount:e.amount,hand:e.hand})),this.currentHand.playersEndState=t.players.map(t=>({id:t.id,name:t.name,chips:t.chips,finalAction:t.lastAction,participated:this.playerParticipated(t.id)})),this.currentHand.analysis=this.analyzeHand();const c=await this.storage.saveHand(this.currentHand);return a.Ay.info(a.nh.GAME,"Hand completed and saved",{handId:c,handNumber:this.currentHand.handNumber,heroResult:this.currentHand.handResult,potSize:this.currentHand.potSize,duration:this.currentHand.handDuration}),this.currentHand=null,c}catch(n){throw a.Ay.error(a.nh.GAME,"Failed to complete hand capture",{error:n.message,stack:n.stack}),n}}analyzeHand(){if(!this.currentHand)return null;try{return{totalActions:this.countTotalActions(),aggressiveActions:this.countAggressiveActions(),aggressionFactor:this.calculateAggressionFactor(),playedFromPosition:this.currentHand.heroPosition,earlyPosition:this.currentHand.heroPosition<=2,latePosition:this.currentHand.heroPosition>=4,preflopAggression:this.calculatePhaseAggression("preflop"),postflopAggression:this.calculatePhaseAggression("postflop"),wentToShowdown:this.currentHand.showdown||!1,foldedPreflop:this.heroFoldedPreflop(),foldedPostflop:this.heroFoldedPostflop(),potOddsDecisions:this.analyzePotOddsDecisions(),valueExtracted:this.calculateValueExtracted(),tags:this.generateHandTags()}}catch(t){return a.Ay.error(a.nh.GAME,"Failed to analyze hand",{error:t.message,stack:t.stack}),null}}async getSessionStats(){if(!this.currentSession)return null;try{var t;const e=await this.storage.getAllHands(),s=e.length,r=e.filter(t=>"won"===t.handResult).length,n=s>0?r/s*100:0,a=e.filter(t=>"won"===t.handResult).reduce((t,e)=>t+(e.heroWinAmount||0),0),i=e.filter(t=>"lost"===t.handResult).reduce((t,e)=>t+(e.amountLost||0),0),o=a-i,c=Math.max(...e.map(t=>t.heroWinAmount||0),0);return{sessionId:this.currentSession,totalHands:s,handsWon:r,handsLost:s-r,winRate:Math.round(100*n)/100,totalPotWon:a,totalAmountLost:i,netProfit:o,biggestWin:c,averagePot:s>0?e.reduce((t,e)=>t+(e.potSize||0),0)/s:0,sessionDuration:Date.now()-((null===(t=e[0])||void 0===t?void 0:t.startTime)||Date.now())}}catch(e){throw a.Ay.error(a.nh.SYSTEM,"Failed to get session stats",{error:e.message,stack:e.stack}),e}}findHeroPosition(t){const e=t.players.find(t=>!t.isAI);return e?e.position:0}getHeroCards(t){var e;const s=t.players.find(t=>!t.isAI);return(null===s||void 0===s||null===(e=s.holeCards)||void 0===e?void 0:e.map(t=>({rank:t.rank,suit:t.suit})))||[]}getHeroId(t){if(t&&t.players){const e=t.players.find(t=>!t.isAI);return null===e||void 0===e?void 0:e.id}if(!this.currentHand)return null;const e=[...this.currentHand.preflopActions,...this.currentHand.flopActions,...this.currentHand.turnActions,...this.currentHand.riverActions];return e.length>0?e[0].playerId:"hero"}getPlayerChips(t,e){const s=t.players.find(t=>t.id===e);return(null===s||void 0===s?void 0:s.chips)||0}getPlayerPosition(t,e){const s=t.players.find(t=>t.id===e);return(null===s||void 0===s?void 0:s.position)||0}getPlayerName(t,e){const s=t.players.find(t=>t.id===e);return(null===s||void 0===s?void 0:s.name)||"Unknown"}calculateHeroInvestment(){if(!this.currentHand)return 0;const t=this.getHeroId();let e=0;return[...this.currentHand.preflopActions,...this.currentHand.flopActions,...this.currentHand.turnActions,...this.currentHand.riverActions].filter(e=>e.playerId===t).forEach(t=>{["bet","call","raise"].includes(t.action)&&(e+=t.amount)}),e}playerParticipated(t){if(!this.currentHand)return!1;return[...this.currentHand.preflopActions,...this.currentHand.flopActions,...this.currentHand.turnActions,...this.currentHand.riverActions].some(e=>e.playerId===t)}countTotalActions(){if(!this.currentHand)return 0;const t=this.getHeroId();return[...this.currentHand.preflopActions,...this.currentHand.flopActions,...this.currentHand.turnActions,...this.currentHand.riverActions].filter(e=>e.playerId===t).length}countAggressiveActions(){if(!this.currentHand)return 0;const t=this.getHeroId();return[...this.currentHand.preflopActions,...this.currentHand.flopActions,...this.currentHand.turnActions,...this.currentHand.riverActions].filter(e=>e.playerId===t&&["bet","raise"].includes(e.action)).length}calculateAggressionFactor(){const t=this.countTotalActions(),e=this.countAggressiveActions();return t>0?e/t:0}calculatePhaseAggression(t){if(!this.currentHand)return 0;const e=this.getHeroId();let s=[];s="preflop"===t?this.currentHand.preflopActions:[...this.currentHand.flopActions,...this.currentHand.turnActions,...this.currentHand.riverActions];const r=s.filter(t=>t.playerId===e),n=r.filter(t=>["bet","raise"].includes(t.action));return r.length>0?n.length/r.length:0}heroFoldedPreflop(){if(!this.currentHand)return!1;const t=this.getHeroId();return this.currentHand.preflopActions.some(e=>e.playerId===t&&"fold"===e.action)}heroFoldedPostflop(){if(!this.currentHand)return!1;const t=this.getHeroId();return[...this.currentHand.flopActions,...this.currentHand.turnActions,...this.currentHand.riverActions].some(e=>e.playerId===t&&"fold"===e.action)}analyzePotOddsDecisions(){return{goodCalls:0,badCalls:0,analysis:"Basic pot odds tracking - implement advanced analysis"}}calculateValueExtracted(){return this.currentHand?"won"===this.currentHand.handResult?this.currentHand.heroWinAmount-this.calculateHeroInvestment():-this.calculateHeroInvestment():0}generateHandTags(){if(!this.currentHand)return[];const t=[];return this.currentHand.heroPosition<=2?t.push("early-position"):this.currentHand.heroPosition>=4?t.push("late-position"):t.push("middle-position"),t.push(this.currentHand.handResult),this.calculateAggressionFactor()>.5?t.push("aggressive"):t.push("passive"),this.heroFoldedPreflop()?t.push("folded-preflop"):this.heroFoldedPostflop()?t.push("folded-postflop"):this.currentHand.showdown&&t.push("showdown"),t}startRecording(t,e){var s,r;this.currentSession||this.startSession(e);const n={handNumber:t,players:e.players||[],pot:0,smallBlind:(null===(s=e.blinds)||void 0===s?void 0:s.small)||50,bigBlind:(null===(r=e.blinds)||void 0===r?void 0:r.big)||100};this.startHandCapture(n)}recordAction(t,e){const s={phase:e.phase,pot:e.potBefore||0,players:[]};this.captureAction(s,e.playerId,e.action,e.amount)}recordCommunityCards(t,e){const s={phase:e.phase};this.captureStreetChange(s,e.phase,e.cards)}recordHandResult(t,e){this._pendingResult=e}async saveHand(t){if(this._pendingResult){const t={pot:this._pendingResult.finalPot,players:[]},e=await this.completeHand(t,this._pendingResult.winners,this._pendingResult.showdown);return this._pendingResult=null,e}}async getRecentHands(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return(await this.storage.getAllHands()).slice(0,t)}async getHandsBySession(t){return(await this.storage.getAllHands()).filter(e=>e.sessionId===t)}async generatePlayerAnalytics(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(e.hands?await Promise.all(e.hands.map(t=>this.storage.getAllHands().then(e=>e.find(e=>e.id===t)))):await this.storage.getAllHands()).filter(e=>{var s;return e&&(null===(s=e.playersStartState)||void 0===s?void 0:s.some(e=>e.id===t))}),r=s.length,n=s.filter(t=>"won"===t.handResult).length,a=r>0?n/r*100:0;return{totalHands:r,handsWon:n,winRate:a,vpip:a,totalWinnings:s.filter(t=>"won"===t.handResult).reduce((t,e)=>t+(e.heroWinAmount||0),0)}}async getPositionAnalytics(t){const e=(await this.storage.getAllHands()).filter(e=>{var s;return null===(s=e.playersStartState)||void 0===s?void 0:s.some(e=>e.id===t)}),s={};for(let r=0;r<6;r++){const t=e.filter(t=>t.heroPosition===r);if(t.length>0){const e=t.filter(t=>"won"===t.handResult).length;s[r]={totalHands:t.length,handsWon:e,winRate:e/t.length*100}}}return{byPosition:s}}async analyzeBettingPatterns(t){const e=(await this.storage.getAllHands()).filter(e=>{var s;return null===(s=e.playersStartState)||void 0===s?void 0:s.some(e=>e.id===t)}),s={preflop:0,flop:0,turn:0,river:0};return e.forEach(e=>{["preflop","flop","turn","river"].forEach(r=>{const n=(e["".concat(r,"Actions")]||[]).filter(e=>e.playerId===t),a=n.filter(t=>["bet","raise"].includes(t.action));n.length>0&&(s[r]+=a.length/n.length*100)})}),{aggressionFrequency:s,bettingSizes:{},phasePreferences:{}}}}new l;const h=()=>{const[t,e]=(0,r.useState)(null),[s,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(null),[o,h]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),y=(0,r.useMemo)(()=>new l(c),[]),f=(0,r.useCallback)(async()=>{u(!0);try{const t=await y.getRecentHands(100);n(t||[]),g(null)}catch(t){g(t.message),n([])}finally{u(!1)}},[y]);(0,r.useEffect)(()=>{f()},[f]);const H=(0,r.useCallback)(async t=>{try{const s=await y.startSession(t);return e(s),h(!0),s}catch(s){throw g(s.message),s}},[y]),m=(0,r.useCallback)(async()=>{try{const t=await y.endSession();return e(null),h(!1),t}catch(t){throw g(t.message),t}},[y]),A=(0,r.useCallback)(async t=>{try{const e=await y.saveHand(t);return await f(),{id:e}}catch(e){throw g(e.message),e}},[f,y]),v=(0,r.useCallback)(async t=>({potOdds:33.3,effectiveOdds:28.5,expectedValue:125,decision:"call",mistakes:["Should have bet for value on turn"],improvements:["Consider range betting in this spot"],handStrength:"strong",position:"good"}),[]),S=(0,r.useCallback)(async t=>{try{return s.filter(e=>!t.text||JSON.stringify(e).toLowerCase().includes(t.text.toLowerCase()))}catch(e){return g(e.message),[]}},[s]),w=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";try{if("json"===t)return JSON.stringify(s,null,2);if("csv"===t){return[["Hand ID","Result","Pot","Position"],...s.map(t=>[t.id,t.result,t.pot,t.heroPosition])].map(t=>t.join(",")).join("\n")}return"export-data"}catch(e){throw g(e.message),e}},[s]),I=(0,r.useCallback)(async t=>{try{return n(e=>e.filter(e=>e.id!==t)),!0}catch(e){throw g(e.message),e}},[]),E=(0,r.useCallback)(()=>({handsPlayed:s.length,handsWon:s.filter(t=>"won"===t.result).length,winRate:s.length>0?s.filter(t=>"won"===t.result).length/s.length*100:0,vpip:22.5,pfr:18.2,aggression:2.1,totalWinnings:s.reduce((t,e)=>t+(e.winnings||0),0),bigBlindsWon:25,hourlyRate:12.5}),[s]),b=(0,r.useCallback)(()=>{g(null)},[]);return{sessionId:t,hands:s,currentHand:a,isCapturing:o,loading:d,error:p,loadHands:f,startSession:H,endSession:m,captureHand:A,analyzeHand:v,searchHands:S,exportHands:w,deleteHand:I,getPlayerStatistics:E,clearError:b}}},442(t,e,s){s.d(e,{$y:()=>h,G2:()=>n,J0:()=>r,PQ:()=>l,_H:()=>a,aA:()=>o,mf:()=>i,y6:()=>c});const r={SPADES:"s",HEARTS:"h",DIAMONDS:"d",CLUBS:"c"},n={TWO:"2",THREE:"3",FOUR:"4",FIVE:"5",SIX:"6",SEVEN:"7",EIGHT:"8",NINE:"9",TEN:"T",JACK:"J",QUEEN:"Q",KING:"K",ACE:"A"},a={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,T:10,J:11,Q:12,K:13,A:14},i={HIGH_CARD:0,PAIR:1,TWO_PAIR:2,THREE_OF_A_KIND:3,STRAIGHT:4,FLUSH:5,FULL_HOUSE:6,FOUR_OF_A_KIND:7,STRAIGHT_FLUSH:8,ROYAL_FLUSH:9},o={WAITING:"waiting",PREFLOP:"preflop",FLOP:"flop",TURN:"turn",RIVER:"river",SHOWDOWN:"showdown"},c={FOLD:"fold",CHECK:"check",CALL:"call",BET:"bet",RAISE:"raise",ALL_IN:"all-in"},l={ACTIVE:"active",FOLDED:"folded",ALL_IN:"all-in",WAITING:"waiting",SITTING_OUT:"sitting-out",CHECKED:"checked",CALLED:"called",RAISED:"raised"},h={TAG:"tight-aggressive",LAG:"loose-aggressive",TP:"tight-passive",LP:"loose-passive"}},959(t,e,s){s.d(e,{A:()=>u});var r=s(442),n=(s(43),s(833));s(579);const a="VALIDATION_ERROR",i="SYSTEM_ERROR",o="low",c="medium";class l extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(t),this.name="PokerError",this.type=e,this.severity=s,this.details=r,this.timestamp=(new Date).toISOString(),this.id=this.generateErrorId()}generateErrorId(){return"".concat(this.type,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}toJSON(){return{id:this.id,name:this.name,message:this.message,type:this.type,severity:this.severity,details:this.details,timestamp:this.timestamp,stack:this.stack}}}new class{constructor(){this.errorLog=[],this.errorCallbacks=new Map,this.maxLogSize=100,this.isDevelopment=!1}handleError(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=t instanceof l?t:new l(t.message,i,c,{originalError:t.name,context:s}),this.logError(e),this.executeCallbacks(e),this.isDevelopment&&n.Ay.error("[PokerError]",{error:e}),e}logError(t){this.errorLog.push(t),this.errorLog.length>this.maxLogSize&&this.errorLog.shift()}onError(t,e){return this.errorCallbacks.has(t)||this.errorCallbacks.set(t,new Set),this.errorCallbacks.get(t).add(e),()=>{const s=this.errorCallbacks.get(t);s&&s.delete(e)}}executeCallbacks(t){const e=this.errorCallbacks.get(t.type);e&&e.forEach(e=>{try{e(t)}catch(s){n.Ay.error("Error in error callback",{error:s})}});const s=this.errorCallbacks.get("*");s&&s.forEach(e=>{try{e(t)}catch(s){n.Ay.error("Error in global error callback",{error:s})}})}getErrorLog(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[...this.errorLog];if(t.type&&(e=e.filter(e=>e.type===t.type)),t.severity&&(e=e.filter(e=>e.severity===t.severity)),t.since){const s=new Date(t.since);e=e.filter(t=>new Date(t.timestamp)>=s)}return e}clearErrorLog(){this.errorLog=[]}getErrorStats(){const t={total:this.errorLog.length,byType:{},bySeverity:{},recentErrors:this.errorLog.slice(-10)};return this.errorLog.forEach(e=>{t.byType[e.type]=(t.byType[e.type]||0)+1,t.bySeverity[e.severity]=(t.bySeverity[e.severity]||0)+1}),t}};const h=(t,e,s)=>new l("Validation failed for ".concat(t,": ").concat(e),a,o,{field:t,value:s});class d{constructor(t,e){if(!Object.values(r.G2).includes(t))throw h("rank","Invalid rank: ".concat(t),t);if(!Object.values(r.J0).includes(e))throw h("suit","Invalid suit: ".concat(e),e);this.rank=t,this.suit=e,this.value=r._H[t]}toString(){return"".concat(this.rank).concat(this.suit)}equals(t){return!(!t||"object"!==typeof t)&&(this.rank===t.rank&&this.suit===t.suit)}compareRank(t){if(!t||"number"!==typeof t.value)throw h("otherCard","Invalid card for comparison",t);return this.value-t.value}getDisplayName(){return"".concat({2:"Two",3:"Three",4:"Four",5:"Five",6:"Six",7:"Seven",8:"Eight",9:"Nine",T:"Ten",J:"Jack",Q:"Queen",K:"King",A:"Ace"}[this.rank]," of ").concat({s:"Spades",h:"Hearts",d:"Diamonds",c:"Clubs"}[this.suit])}getUnicodeSymbol(){return"".concat(this.rank).concat({s:"\u2660",h:"\u2665",d:"\u2666",c:"\u2663"}[this.suit])}getValue(){return this.value}static createDeck(){const t=[];for(const e of Object.values(r.J0))for(const s of Object.values(r.G2))t.push(new d(s,e));return t}}const u=d}}]);
//# sourceMappingURL=859.f98531a6.chunk.js.map